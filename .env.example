# =============================================================================
# Green Energy Platform - Environment Variables
# =============================================================================
# Copy this file to .env in the same directory and fill in your actual values.
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Node Environment
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/greenenergy?schema=public"

# -----------------------------------------------------------------------------
# JobNimbus API Configuration
# -----------------------------------------------------------------------------
JOBNIMBUS_BASE_URL="https://api.jobnimbus.com"
JOBNIMBUS_API_KEY="YOUR_API_KEY_HERE"
JOBNIMBUS_SYNC_CRON="*/15 * * * *"  # Every 15 minutes
JOBNIMBUS_SYNC_ENABLED="true"

# -----------------------------------------------------------------------------
# Customer Portal Integration
# -----------------------------------------------------------------------------
PORTAL_BASE_URL="http://localhost:3001"
PORTAL_ORIGIN="http://localhost:3001"
PORTAL_SESSION_TTL_DAYS="7"

# Internal API Key (use to secure internal endpoints)
# Generate: openssl rand -hex 32
INTERNAL_API_KEY="your-internal-api-key-here"

# -----------------------------------------------------------------------------
# QuickBooks OAuth2 (Accounting Integration)
# -----------------------------------------------------------------------------
# Enable/disable QuickBooks integration
QB_ENABLED="false"

# OAuth2 Credentials (from developer.intuit.com)
QB_CLIENT_ID="your-quickbooks-client-id"
QB_CLIENT_SECRET="your-quickbooks-client-secret"
QB_REFRESH_TOKEN="your-refresh-token-from-oauth-flow"

# QuickBooks API URLs
QB_TOKEN_URL="https://oauth.platform.intuit.com/oauth2/v1/tokens/bearer"
QB_BASE_URL="https://quickbooks.api.intuit.com"

# Your QuickBooks Company ID (Realm ID)
QB_REALM_ID="your-company-realm-id"

# Optional: Fallback access token (not recommended for production)
# QB_ACCESS_TOKEN="your-fallback-token"

# -----------------------------------------------------------------------------
# Frontend Environment Variables (Next.js)
# -----------------------------------------------------------------------------
# For customer-portal (apps/customer-portal/.env.local)
NEXT_PUBLIC_API_BASE_URL="http://localhost:3000/api/v1"

# For internal-dashboard (apps/internal-dashboard/.env.local)
# NEXT_PUBLIC_API_BASE_URL="http://localhost:3000/api/v1"
# NEXT_PUBLIC_INTERNAL_API_KEY="your-internal-api-key-here"

# -----------------------------------------------------------------------------
# Workflow Automation (Phase 3 Sprint 4)
# -----------------------------------------------------------------------------
WORKFLOW_AUTOMATION_ENABLED="false"       # Enable automatic daily workflow execution at 4 AM
WORKFLOW_AUTOMATION_DAILY_LIMIT="500"     # Max number of jobs to process in daily run

# -----------------------------------------------------------------------------
# Staging Smoke Tests (Phase 3 Sprint 8)
# -----------------------------------------------------------------------------
# Used by the smoke test harness to verify deployed environments
# Set these to your staging/production URLs after deployment
STAGING_CORE_API_BASE_URL=""
STAGING_INTERNAL_DASHBOARD_BASE_URL=""
STAGING_CUSTOMER_PORTAL_BASE_URL=""
STAGING_INTERNAL_API_KEY=""
